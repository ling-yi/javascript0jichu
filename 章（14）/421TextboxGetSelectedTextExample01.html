<!DOCTYPE html>
<html>
	<head>
		<script type="text/javascript" src="354EventUtil.js"></script>
	</head>
	<body>
		<form method="post" id="myForm">
			<input type="text" size="25" maxlength="50" value="initial value">
			<textarea rows="25" cols="5" name="textbox1">initial value</textarea>
		</form>
	</body> 
	<script type="text/javascript">
		function getSelectedText(textbox){
			if(typeof textbox.selectionStart == "number"){
				return textbox.value.substring(textbox.selectionStart,textbox.selectionEnd);
			}else if(document.selection){
				return document.selection.createRange().text;
			}
		}
		
		var textbox = document.forms[0].elements["textbox1"];
		
		EventUtil.addHandler(textbox, "select", function(event){
			alert(getSelectedText(textbox));
		});
	</script>
</html>